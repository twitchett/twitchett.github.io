<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <title>Why Instagram's API sucks</title>
  <meta name="description" content="">
  <meta name="author" content="Tabitha Goodall">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="google-site-verification" content="I3XZFU4CzuHAw6bUxMTQ5sAUqby-ukzlNav08A12MZ8" />

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Tabitha Goodall">
  <meta name="twitter:description" content="">

  <meta property="og:type" content="article">
  <meta property="og:title" content="Tabitha Goodall">
  <meta property="og:description" content="">

  <link rel="apple-touch-icon" sizes="57x57" href="/images/favicons/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/images/favicons/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/images/favicons/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/images/favicons/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/images/favicons/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/images/favicons/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/images/favicons/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/images/favicons/apple-touch-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicons/apple-touch-icon-180x180.png">
  <link rel="icon" type="image/png" href="/images/favicons/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="/images/favicons/favicon-194x194.png" sizes="194x194">
  <link rel="icon" type="image/png" href="/images/favicons/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="/images/favicons/android-chrome-192x192.png" sizes="192x192">
  <link rel="icon" type="image/png" href="/images/favicons/favicon-16x16.png" sizes="16x16">
  <link rel="manifest" href="/images/favicons/manifest.json">
  <link rel="shortcut icon" href="/images/favicons/favicon.ico">
  <meta name="msapplication-TileColor" content="#ffc40d">
  <meta name="msapplication-TileImage" content="/images/favicons/mstile-144x144.png">
  <meta name="theme-color" content="#ffffff">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

  <link rel="stylesheet" href="/css/theme/main.css">
  <link rel="stylesheet" href="/css/main.css">
  
  <link rel="canonical" href="https://twitchett.github.io/blog/2017/04/23/why-instagrams-api-sucks">
  <link rel="alternate" type="application/rss+xml" title="Tabitha Goodall" href="/feed.xml">
</head>


  <body class="page-">
    <!-- mobile only: pull down menu for non-landing pages -->

  <span class="mobile btn-mobile-menu">
    <i class="icon icon-list btn-mobile-menu__icon"></i>
    <i class="icon icon-x-circle btn-mobile-close__icon hidden"></i>
  </span>


<header class="panel-cover header-page-" style="background-image: url(/images/cover.jpg)">
  <div class="panel-main">


    <div class="panel-main__inner panel-inverted">
      <div class="panel-main__content">
          <a href="/" title="Tabi">
            <img src="/images/profile.jpg" class="user-image" alt="Tabi">
            <h1 class="panel-cover__title panel-title">Tabitha Goodall</h1>
          </a>
          <hr class="panel-cover__divider">
          <p class="panel-cover__description">British-born, Berlin-based freelancer. Writes code for fun and profit. May occasionally attempt to draw things.</p>

          <hr class="panel-cover__divider panel-cover__divider--secondary">

          <!-- mobile-only: display navigation on header only for landing page --> 
          


          <div class="navigation-wrapper">

            <nav class="cover-navigation cover-navigation--primary">
    <ul class="navigation">
        
        <li class="navigation__item ">
            <a href="/blog" title="it's a blog" class="blog-button">Blog</a>
        </li>
        <li class="navigation__item ">
            <a href="/gallery" title="hire me" class="blog-button">Gallery</a>
        </li>
        <li class="navigation__item ">
            <a href="/cv" title="hire me" class="blog-button">CV</a>
        </li>
        <li class="navigation__item ">
            <a href="/about" title="about this site" class="blog-button">About</a>
        </li>
    </ul>
</nav>

            <hr class="panel-cover__divider panel-cover__divider--secondary">

            <nav class="cover-navigation navigation--social">
  <ul class="navigation">

  
    <!-- Twitter -->
    <li class="navigation__item">
      <a href="http://twitter.com/tabi_twitchett" title="@tabi_twitchett on Twitter" target="_blank">
        <i class="icon icon-social-twitter"></i>
        <span class="label">Twitter</span>
      </a>
    </li>
  

  

  
    <!-- LinkedIn -->
    <li class="navigation__item">
      <a href="https://www.linkedin.com/in/tabithagoodall" title="tabithagoodall on LinkedIn" target="_blank">
        <i class="icon icon-social-linkedin"></i>
        <span class="label">LinkedIn</span>
      </a>
    </li>
  

  
    <!-- GitHub -->
    <li class="navigation__item">
      <a href="https://www.github.com/twitchett" title="twitchett on GitHub" target="_blank">
        <i class="icon icon-social-github"></i>
        <span class="label">GitHub</span>
      </a>
    </li>
  

  
    <!-- Email -->
    <li class="navigation__item js_email">
      <a href="send-an-email" title="Send me an email" target="_blank">
        <i class="icon icon-mail"></i>
        <span class="label">Email</span>
      </a>
    </li>
  

    <li class="navigation__item">
      <a href="/feed.xml" title="Subscribe" target="_blank">
        <i class="icon icon-rss"></i>
        <span class="label">RSS</span>
      </a>
    </li>

  </ul>
</nav>
            
          </div>
        </div>
    </div>
    <div class="panel-cover--overlay"></div>
  </div>
</header>


    <div class="content-wrapper">
      <div class="content-wrapper__inner">
        <article class="post-container post-container--single">
  <header class="post-header">
    <a class="back-link" href="javascript: history.go(-1);"><i class="fa fa-long-arrow-left" aria-hidden="true"></i> go back</a>
    <div class="post-meta">
      <time datetime="23 Apr 2017" class="post-meta__date date">23 Apr 2017</time> &#8226;
      <span class="post-meta__tags">on: <a href="/tags/#tech">tech</a>, <a href="/tags/#instagram">instagram</a>, <a href="/tags/#api">api</a>, <a href="/tags/#cors">cors</a>, <a href="/tags/#jsonp">jsonp</a>, <a href="/tags/#oauth2">oauth2</a></span>
    </div>
    <h1 class="post-title">Why Instagram's API sucks</h1>
    <h2 class="post-subtitle"></h2>
  </header>

  <section class="post">
    <p>I built a little <a href="/gallery">React app</a> to display images from my Instagram stream. Writing React was fun; anything that touched Instagram’s API was not. Now, after a few days of wrangling, I’ve just decided to sod the whole thing off and hack my own solution together.</p>

<p>It’s not as if I wanted to use the API for anything particularly ambitious/nefarious - all I want I do is <em>fetch my own images</em> in order to display them on my own site. A simple requirement, probably the most common use case for any client of their API. Yet apparently this is not something Instagram wants you to be able to do.</p>

<div class="well">
    <p>TL;DR? Instagram's API sucks because:</p>
    <ol>
    <li>It does not support CORS requests, only JSONP</li>
    <li>You can't access publicly available content without an OAUTH token</li>
    <li>Unless you're a brand, advertiser or publisher, you are *restricted to the most recent 20 images*, and a *maximum of 10 users* can access your app</li></ol>
</div>

<p>Here’s the longer version.</p>

<p>The first thing I did was go to the <a href="https://www.instagram.com/developer/">instagram developer site</a> to register my app. As part of the registration, Instagram wanted me to submit a URL to my privacy policy, which of course I didn’t have, because what would I need a privacy policy for? Protecting my own data from myself? Um, okay, whatever. I tossed one together, registered my client and moved on.</p>

<p>Then I came to the first thing that raised my suspicions about this API:</p>

<h3 id="it-does-not-support-cors-for-client-side-requests---only-jsonp">It does not support CORS for client-side requests - only JSONP</h3>

<p>Really? JSONP? CORS is the de facto web standard for allowing client-side Javascript (i.e. my image gallery) to make a “cross origin request” to different server (i.e. Instagram). JSONP is an <a href="https://en.wikipedia.org/wiki/JSONP#Security_concerns">insecure</a> <a href="https://cameronspear.com/blog/exactly-what-is-jsonp/">dirty hack</a>, which I thought we stopped using back in 2010 - before Instagram was even a thing.</p>

<p>Well, JSONP is icky, but having to use it is by no means a showstopper. So I went to find a JSONP library (that hasn’t been updated in years), and installed that. Because of course <a href="https://github.com/mzabriskie/axios">axios</a>, being a modern HTTP client, doesn’t support outdated protocols.</p>

<p>Okay, what next. I checked the endpoints to see what request I needed to make, and - what’s this? I need an OAUTH access token? To <em>access public content</em>?</p>

<h3 id="you-need-an-oauth2-access-token-for-every-endpoint">You need an OAUTH2 access token for <strong>every</strong> endpoint</h3>

<p>So in other words, in order for any visitor to see the images on my site (which any anonymous user can view just by <a href="https://www.instagram.com/tabi.twitchett/">going to my instagram page</a>), they must:</p>

<ol>
  <li>have their own instagram account, and</li>
  <li>grant my application access to their data.</li>
</ol>

<p>Even though I absolutely do not need access to their data, or need to make any requests on their behalf.</p>

<p>This is some bullshit now. It could raise privacy concerns and will seriously hamper the usability of my app, as users will <strong>have</strong> to login just to see the gallery.</p>

<p>But I doggedly persisted. Thankfully the client-side OAUTH2 flow is pretty straightforward. Okay, access token granted. I can make requests and fetch the data and display the images on the page. Yay!</p>

<p>Now, my app was in Sandbox mode, which meant I’m restricted to fetching only the most recent 20 images, and only 10 users can actually access the app (through the OAUTH2 authentication). In order to lift these restrictions and get access to other functionality, I needed to apply for a review, then I could “go live”. That’s pretty strict, but maybe the Instagram guys don’t want kids abusing their API, or maybe they’re just control freaks. In any case, I went to apply, and…well, poop.</p>

<h3 id="you-must-be-a-brand-advertiser-or-publisher-in-order-to-use-the-api-outside-of-sandbox-mode">You must be a <em>brand</em>, <em>advertiser</em> or <em>publisher</em> in order to use the API outside of Sandbox mode</h3>

<p>Or, your app must “allow users to login and share their own content” - i.e. you must be extending Instagram’s reach as an image-sharing platform into other domains.</p>

<p>Basically, Instagram has made their API as close to useless as possible for your average joe developer who just wants to make requests and access content. You’re rate-limited, you’re user-limited, you’re content-limited.</p>

<p>And that’s why Instagram’s API truly sucks.</p>

<p>What’s the point of even making an API available to use? I’m surprised that Instagram, as a child company of Facebook (that apparently has a very decent API), has taken these decisions to make their API so closed off. It stifles creativity and innovation. As someone who makes use of open source software every day, for professional and personal use, this kind of attitude makes me frustrated and sad.</p>

<p>But in my frustration I’ve been exploring alternatives to Instagram’s API and have come across some useful tools. Maybe I’ll make a follow-up post with those findings…</p>


  </section>
  <footer class="post-footer">
    <a class="back-link" href="javascript: history.go(-1);"><i class="fa fa-long-arrow-left" aria-hidden="true"></i> go back</a>
  </footer>
  <section id="disqus_thread"></section><!-- /#disqus_thread -->
</article>

    <script type="text/javascript">
      var disqus_config = function () {
        this.page.url = 'https://twitchett.github.io/blog/2017/04/23/why-instagrams-api-sucks';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = '/blog/2017/04/23/why-instagrams-api-sucks'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
      };

      (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        s.src = '//twitchett.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
       })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>



      </div>

      <footer class="footer">
  <span class="footer__copyright">&copy; 2017 Tabitha Goodall. All rights reserved. Check out the source code on <a href="https://github.com/twitchett/twitchett.github.io" target="_blank">github</a>. If you are bored, view the <a href="/privacy">privacy policy</a>.</span>
</footer>

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script type="text/javascript" src="/js/main.js"></script>
<script type="text/javascript" src="/js/bundle.js"></script>
<script src="https://use.fontawesome.com/361855abe7.js"></script>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-97440732-1', 'auto');
  ga('send', 'pageview');
</script>


    </div>
  </body>
</html>