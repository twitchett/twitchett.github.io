<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Tabitha Goodall</title>
    <description></description>
    <link>https://twitchett.github.io/</link>
    <atom:link href="https://twitchett.github.io/feed.xml" rel="self" type="application/rss+xml" />
    <pubDate>Sun, 23 Apr 2017 20:52:47 +0200</pubDate>
    <lastBuildDate>Sun, 23 Apr 2017 20:52:47 +0200</lastBuildDate>
    <generator>Jekyll v3.4.3</generator>
    
      <item>
        <title>Why Instagram's API sucks</title>
        <description>&lt;p&gt;I built a little &lt;a href=&quot;/visual&quot;&gt;React app&lt;/a&gt; to display images from my Instagram stream. Writing React was fun; anything that touched Instagram’s API was not. Now, after a few days of wrangling, I’ve just decided to sod the whole thing off and hack my own solution together.&lt;/p&gt;

&lt;p&gt;It’s not as if I’m using the API for anything particularly ambitious/nefarious - all I want I do is &lt;em&gt;fetch my own images&lt;/em&gt; in order to display them on my own site. A simple requirement, probably the most common use case for any client of their API. Yet apparently this is not something Instagram wants you to be able to do.&lt;/p&gt;

&lt;p&gt;TL;DR version. Instagram’s API sucks because:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;It does not support CORS requests, only JSONP&lt;/li&gt;
  &lt;li&gt;You can’t access publicly available content without an OAUTH token&lt;/li&gt;
  &lt;li&gt;Unless you’re a brand, advertiser or publisher, you are &lt;em&gt;restricted to the most recent 20 images&lt;/em&gt;, and a &lt;em&gt;maximum of 10 users&lt;/em&gt; can access your app&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;In more detail… (please excuse the change of tense, maybe I’ll edit it at some point).&lt;/p&gt;

&lt;p&gt;The first thing I do is go to the &lt;a href=&quot;https://www.instagram.com/developer/&quot;&gt;instagram developer site&lt;/a&gt; to register my app. It wanted me to submit a URL to my privacy policy. My privacy policy? For what? Protecting my own data from myself? Um, okay, whatever. I toss one together, register my client and move on.&lt;/p&gt;

&lt;p&gt;Then I come to the first thing that raises my suspicions about this API:&lt;/p&gt;

&lt;h3 id=&quot;it-does-not-support-cors-for-client-side-requests---only-jsonp&quot;&gt;It does not support CORS for client-side requests - only JSONP&lt;/h3&gt;

&lt;p&gt;Really? You don’t support CORS? Didn’t we all decide JSONP was an &lt;a href=&quot;https://en.wikipedia.org/wiki/JSONP#Security_concerns&quot;&gt;insecure&lt;/a&gt; &lt;a href=&quot;https://cameronspear.com/blog/exactly-what-is-jsonp/&quot;&gt;dirty hack&lt;/a&gt; back in 2010 - before Instagram was even a thing?&lt;/p&gt;

&lt;p&gt;Well, using JSONP is icky, but by no means a showstopper. So I go and find a JSONP library (that hasn’t been updated in years), and install that. Because of course &lt;a href=&quot;https://github.com/mzabriskie/axios&quot;&gt;axios&lt;/a&gt;, being a modern HTTP client, doesn’t support outdated protocols.&lt;/p&gt;

&lt;p&gt;Okay, what next. I check the endpoints to see what request I need to make, and - what’s this? I need an OAUTH access token? To &lt;em&gt;access public content&lt;/em&gt;?&lt;/p&gt;

&lt;h3 id=&quot;you-need-an-oauth2-access-token-for-every-endpoint&quot;&gt;You need an OAUTH2 access token for &lt;strong&gt;every&lt;/strong&gt; endpoint&lt;/h3&gt;

&lt;p&gt;So in other words, in order for any visitor to see the images on my site (which any anonymous user can view just by &lt;a href=&quot;https://www.instagram.com/tabi.twitchett/&quot;&gt;going to my instagram page&lt;/a&gt;), they must:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;have their own instagram account, and&lt;/li&gt;
  &lt;li&gt;grant my application access to their data.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Even though I absolutely do not need access to their data or to make any requests on their behalf.&lt;/p&gt;

&lt;p&gt;This is some bullshit now. It could raise privacy concerns and will seriously hamper the usability of my app, as users will have to login just to see the gallery.&lt;/p&gt;

&lt;p&gt;But I doggedly persist. Thankfully the client-side OAUTH2 flow is pretty straightforward. Okay, access token granted. I make requests and fetch the data and display the images on the page. Yay!&lt;/p&gt;

&lt;p&gt;Now, my app is in Sandbox mode, which means I’m restricted to fetching only the most recent 20 images, and only 10 users can actually access the app (through the OAUTH2 authentication). In order to lift these restrictions and get access to other functionality, I need to apply for a review, then I can “go live”. That’s pretty strict, but maybe the Instagram guys don’t want kids abusing their API, or maybe they’re just control freaks. In any case, I go to apply, and…well, poop.&lt;/p&gt;

&lt;h3 id=&quot;you-must-be-a-brand-advertiser-or-publisher-in-order-to-use-the-api-outside-of-sandbox-mode&quot;&gt;You must be a &lt;em&gt;brand&lt;/em&gt;, &lt;em&gt;advertiser&lt;/em&gt; or &lt;em&gt;publisher&lt;/em&gt; in order to use the API outside of Sandbox mode&lt;/h3&gt;

&lt;p&gt;Basically, Instagram has made their API as close to useless as possible for your average joe developer who just wants to make requests and access content. You’re rate-limited, you’re user-limited, you’re content-limited.&lt;/p&gt;

&lt;p&gt;What’s the point of even making an API available to use? I’m surprised that Instagram, as a child company of Facebook (that apparently has a very decent API), has taken these decisions to make their API so closed off. It stifles creativity and innovation. As someone who makes use of open source software every day, for professional and personal use, this kind of attitude makes me frustrated and sad.&lt;/p&gt;

&lt;p&gt;But in my frustration I’ve been exploring alternatives to Instagram’s API and have come across some useful tools. Maybe I’ll make a follow-up post with those findings…&lt;/p&gt;

</description>
        <pubDate>Sun, 23 Apr 2017 14:30:00 +0200</pubDate>
        <link>https://twitchett.github.io/blog/2017/04/23/why-instagrams-api-sucks</link>
        <guid isPermaLink="true">https://twitchett.github.io/blog/2017/04/23/why-instagrams-api-sucks</guid>
        
        <category>tech</category>
        
        <category>instagram</category>
        
        <category>api</category>
        
        <category>cors</category>
        
        <category>oauth2</category>
        
        
        <category>bitching</category>
        
      </item>
    
      <item>
        <title>How to get married in Demark, for couples living in Germany</title>
        <description>&lt;p&gt;Are you an Ausländer living in Germany? Have you met someone you like enough that you have agreed to marry them? Are you prepared for the mountains of paperwork involved? As we all know, the multi-headed hydra of German bureaucracy can be a daunting foe. But word on the streets (and on Toytown, and from the embassies) is that the simplest way to get yourselves hitched is to hop over to Denmark and get married there. Well, IT’S (MOSTLY) TRUE.&lt;/p&gt;

&lt;p&gt;Background info: I’m British. He’s American. We live in Germany (Berlin) and got married in Tønder. It took about 3 months of bureaucratic hoop-jumping to get our application approved. After that, we were offered an appoinment in five days! Your milage may vary.&lt;/p&gt;

&lt;p&gt;These are our experiences and what we learnt from them, for anyone else who might find it helpful.&lt;/p&gt;

&lt;p&gt;The first thing to consider…&lt;/p&gt;

&lt;h3 id=&quot;do-it-yourself-or-go-through-an-agency&quot;&gt;Do It Yourself, or go through an agency?&lt;/h3&gt;

&lt;p&gt;If you go the DIY route, you’ll handle the application and all the logistics yourselves. The fee is €115, and it’s the same everywhere in Denmark. There are no other costs apart from what you incur yourselves. The downside is that the registration office will only talk to you once you have paid the fee and sent in the form with your documents - before that, you’re pretty much on your own.&lt;/p&gt;

&lt;p&gt;But if you don’t want to get your hands dirty? Search for “getting married in Denmark”, you’ll find a lot of agencies who will happily charge you €400 or so to handle the administrative effort on your behalf. The good news is that you shouldn’t have to pay anything upfront. They will hold your hand every step of the way, organise accommodation and transport for you, and make the process as smooth as possible.&lt;/p&gt;

&lt;p&gt;If you choose the second option, you should stop reading here and just talk to your agency. :)&lt;/p&gt;

&lt;p&gt;If you didn’t, you have an important decision to make.&lt;/p&gt;

&lt;h3 id=&quot;where-in-denmark-should-you-get-married&quot;&gt;Where in Denmark should you get married?&lt;/h3&gt;

&lt;p&gt;Denmark has &lt;a href=&quot;https://en.wikipedia.org/wiki/List_of_municipalities_of_Denmark&quot;&gt;several municipalities&lt;/a&gt;, and each has its own rules and regulations.&lt;/p&gt;

&lt;p&gt;Things you should consider:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;First and foremost: &lt;a href=&quot;#do-you-need-the-marriage-certificate-legalised&quot;&gt;do you need your marriage certificate legalised&lt;/a&gt;, and do you need it done quickly? If so, go to Copenhagen.&lt;/li&gt;
  &lt;li&gt;Which documents they will ask for. There are some “gotchas”. Also: will they accept documents by email? Some don’t! (Looking at you, Sønderborg)&lt;/li&gt;
  &lt;li&gt;Turnaround time. For example: Tønder’s processing time was 1-2 weeks; Copenhagen’s is 3-4.&lt;/li&gt;
  &lt;li&gt;Location. Denmark is a weirdly shaped country, look at it. Some places are much easier to get to than others, and some places are more expensive than others.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;We went with &lt;a href=&quot;http://toender.dk/citizen/getting-married/getting-married?language=en&quot;&gt;Tønder&lt;/a&gt;, which is a teeny town just across the German border. Pros: super easy to get to from Berlin, helpful and communicative administrative staff (contactable by email and phone in German and English), local prices weren’t outrageous. Cons: one turd of a requirement (see below). Bonus point: every single person we met during our visit was absolutely delightful and made our stay a joy from start to finish.&lt;/p&gt;

&lt;h3 id=&quot;required-documents&quot;&gt;Required documents&lt;/h3&gt;

&lt;p&gt;Figuring out exactly what documents you need is half the battle, and obtaining them is the other half. We were required to provide:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;birth certficate&lt;/strong&gt;. We sent originals; there was no requirement to have more recent copies.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;identity document&lt;/strong&gt;, i.e. passports.&lt;/li&gt;
  &lt;li&gt;for him, a non-EU citizen: &lt;strong&gt;proof of legal stay&lt;/strong&gt;. He had a freelance artist visa allowing him to live and work in Germany. All good.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;certficate of marital status&lt;/strong&gt;. This needs to come from your &lt;em&gt;current&lt;/em&gt; place of residence, which was Germany for us. Go to your favourite Bürgeramt and ask for an &lt;strong&gt;Erweiterte Meldebescheinigung&lt;/strong&gt; - an extended registration certficate. It’ll cost 10 bucks. Make sure it’s the extended/advanced one, not the regular one, so it lists all your previous residencies. Alternatively, you can get a &lt;strong&gt;Aufenthaltsbescheinigung&lt;/strong&gt; stating your Familienstand. Whichever you go for, it must be recent - not older than 3 or 4 months.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;So far so good. I think for most locations in Denmark, that should cover it. But Tønder had this cheeky little thing:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;certficate of marital status &lt;strong&gt;from all countries in which you have lived, since you were old enough to get married&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Potentially very troublesome, if either you or your partner are one of those intrepid souls, or come from places that don’t like to keep records. Thankfully my partner and I are only mildly intrepid. The thing to note here is that they just want documentation that covers the period of time from when you turned 18 (or 16?) til the present day.&lt;/p&gt;

&lt;p&gt;Denmark were content when we produced the following:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;for me: a &lt;strong&gt;no trace letter&lt;/strong&gt; from the UK. That is, a letter saying there is no record of you being married. To apply, call the registry office on +44 (0)300 123 1837 (you can’t apply online) and quote the reference “SEARCH 123”. Be warned: this took about a month to arrive.&lt;/li&gt;
  &lt;li&gt;for him: this was a bit awkward, as he’d lived in the US (in multiple states) &lt;em&gt;and&lt;/em&gt; the UK before coming to Germany. Some US states don’t keep these kinds of records after you leave, and the UK certainly doesn’t for foreigners. We solved this by getting a letter from one state that covered the period from when he turned 18, to when he moved to Germany. Sorted.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Note: I &lt;strong&gt;did not&lt;/strong&gt; have to get a certificate of no impediment (CNI) from the UK. The gov.uk website suggests that you might need this, but in my case it was unncessary.&lt;/p&gt;

&lt;h3 id=&quot;gatting-married&quot;&gt;Gatting Married&lt;/h3&gt;

&lt;p&gt;Once your documents are approved, that’s 90% of the work done. Now’s the fun part. You’ll need to be at the registration a number of days (depending on exactly where you go) before the ceremony. Don’t forget to bring originals of all the documents you provided, and your witnesses if you have them.&lt;/p&gt;

&lt;h3 id=&quot;do-you-need-the-marriage-certificate-legalised&quot;&gt;Do you need the marriage certificate legalised?&lt;/h3&gt;

&lt;p&gt;Once the deed is done, you’ll be issued with an international marriage certicate in five different languages (Danish, German, English, French and Spanish). However, you may have one thing left to obtain before it is recognised abroad: the apostille stamp.&lt;/p&gt;

&lt;p&gt;Getting this proves that the certificate is genuine, and you can only get it done at the &lt;a href=&quot;http://um.dk/en/travel-and-residence/legalisation&quot;&gt;Ministry of Foreign Affairs&lt;/a&gt; in Copenhagen. You can mail it to them, or you can go in person. If you go in person you’ll get it on the day, but if you do it by mail you may have a few weeks wait.&lt;/p&gt;

&lt;p&gt;Do you need it? Honestly, I don’t have a good answer. We were told by the administration in Denmark that Germany wouldn’t require it, and so far both the Bürgeramt and the Ausländerbehörde here have happily accepted it without question. We haven’t presented it to the UK or US authorities yet. It’s up to you. We sent one off to be legalised, just to be on the safe side.&lt;/p&gt;

</description>
        <pubDate>Sat, 15 Apr 2017 18:30:00 +0200</pubDate>
        <link>https://twitchett.github.io/blog/2017/04/15/how-to-get-married-in-denmark</link>
        <guid isPermaLink="true">https://twitchett.github.io/blog/2017/04/15/how-to-get-married-in-denmark</guid>
        
        <category>german-life</category>
        
        <category>marriage</category>
        
        <category>denmark</category>
        
        
        <category>how-to</category>
        
      </item>
    
      <item>
        <title>Of Shoes and Ships and Sealing Wax</title>
        <description>&lt;p&gt;I built this site because having had my nose stuck in Angular 1 for the last 18 months, I wanted to do something different. Actually it was initially intended to be a React project, but this &lt;a href=&quot;https://jekyllrb.com/docs/home&quot;&gt;Jekyll&lt;/a&gt; seems to have got all my bases covered. In fact this is probably the least use I have for Javascript on any site since, well, I started web development.&lt;/p&gt;

&lt;p&gt;First time using a static-site generator, and I’m blown away by how easy it is to get something off the ground.&lt;/p&gt;

&lt;p&gt;Having content and code so close together and under the same version control seems a bit icky, but maybe because I’m not used to working this way.&lt;/p&gt;

</description>
        <pubDate>Fri, 14 Apr 2017 07:20:24 +0200</pubDate>
        <link>https://twitchett.github.io/blog/2017/04/14/hello-world</link>
        <guid isPermaLink="true">https://twitchett.github.io/blog/2017/04/14/hello-world</guid>
        
        <category>tech</category>
        
        <category>jekyll</category>
        
        
      </item>
    
  </channel>
</rss>
